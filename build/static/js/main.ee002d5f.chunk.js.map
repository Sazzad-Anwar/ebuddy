{"version":3,"sources":["Redux/Constants.jsx","Screens/HomeScreen.jsx","Redux/Actons.jsx","CustomComponents/NotFound.jsx","Components/ProtectedRoute.jsx","Screens/Login.jsx","Components/Messages.jsx","Components/Users.jsx","Components/UploadPreview.jsx","Screens/Chat.jsx","Components/Test.jsx","Routes/AppRoutes.jsx","App.js","Redux/store.js","Redux/Reducers.jsx","reportWebVitals.js","serviceWorkerRegistration.js","index.js"],"names":["USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGIN_FAILED","USER_LOGOUT","USER_UPDATE_SUCCESS","USER_UPDATE_FAILED","HomeScreen","addToast","useToasts","user","useSelector","state","userLogin","history","useHistory","dispatch","useDispatch","useState","name","setName","email","setEmail","images","setImages","photoUploaded","setPhotoUploaded","footerRef","useRef","uploadFile","e","a","files","target","formData","FormData","i","length","append","axios","post","data","map","image","preImage","filePath","console","log","response","removeFile","id","uploadId","split","delete","filter","singleImage","useEffect","isLoggedIn","push","handlePhotoUploaded","get","isSuccess","photo","autoDismiss","appearance","className","Container","Row","Col","lg","xs","md","Form","onSubmit","preventDefault","type","localStorage","setItem","JSON","stringify","payload","message","Avatar","alt","src","style","height","width","IconButton","onClick","Group","controlId","Label","Control","value","onChange","placeholder","htmlFor","FormControlLabel","control","Checkbox","checked","label","accept","Button","variant","Navbar","ref","expand","Nav","Date","getFullYear","NotFound","position","top","left","transform","ProtectedRoute","children","rest","render","location","to","pathname","from","Login","Typography","component","Messages","messageDetails","roomUser","editMsg","deleteMsg","replyMsg","show","setShow","anchorEl","setAnchorEl","chatImage","setChatImage","open","Boolean","handleClose","marginRight","Card","body","startsWith","cardSize","showGraphic","maxLine","minLine","proxyUrl","url","file","fileData","path","extname","elevation","cursor","right","bottom","zIndex","FileSaver","saveAs","host","controls","backgroundColor","moment","sendAt","fromNow","marginLeft","aria-label","aria-controls","aria-haspopup","event","currentTarget","Menu","keepMounted","onClose","PaperProps","maxHeight","MenuItem","_id","Modal","onHide","fullscreen","centered","Users","userInfo","messages","findRoomUser","isActive","Badge","badgeContent","userMessage","color","updatedAt","UploadPreview","cardHeight","current","offsetHeight","Chat","users","setUsers","setRoomUser","setMessages","setMessage","search","setSearch","roomUserPicShow","setRoomUserPicShow","setReplyMsgDetails","heightRef","audio","Audio","socket","io","on","userData","othersData","allUsers","joinedUser","leavingUser","chat","play","prevMsg","msg","emit","getMessage","error","off","sendMessage","now","onCloseRemoveImages","find","findMsg","bg","fluid","Brand","Toggle","Collapse","Link","removeItem","disconnect","InputGroup","Text","FormControl","aria-describedby","calendar","as","row","background","backdrop","Header","Title","Body","multiple","overflowY","Footer","Test","AppRoutes","exact","App","reducer","combineReducers","action","loading","getUser","getItem","parse","initialState","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","isLocalhost","window","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","document","getElementById","URL","process","href","origin","addEventListener","fetch","headers","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker","ServiceWorkerRegistration"],"mappings":"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","file":"static/js/main.ee002d5f.chunk.js","sourcesContent":["export const USER_LOGIN_REQUEST = 'USER_LOGIN_REQUEST';\r\nexport const USER_LOGIN_SUCCESS = 'USER_LOGIN_SUCCESS';\r\nexport const USER_LOGIN_FAILED = 'USER_LOGIN_FAILED';\r\nexport const USER_LOGOUT = 'USER_LOGOUT';\r\nexport const USER_UPDATE_SUCCESS = 'USER_UPDATE_SUCCESS';\r\nexport const USER_UPDATE_FAILED = 'USER_UPDATE_FAILED';\r\n","/* eslint-disable no-plusplus */\r\n/* eslint-disable no-unused-vars */\r\n/* eslint-disable prettier/prettier */\r\n// import { Typography } from '@material-ui/core';\r\nimport { Button, Col, Container, Form, Image, Nav, Navbar, Row } from 'react-bootstrap';\r\nimport { useEffect, useState, useRef } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useToasts } from 'react-toast-notifications';\r\nimport axios from 'axios';\r\nimport { Avatar, Checkbox, FormControlLabel, IconButton } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport CopyrightIcon from '@material-ui/icons/Copyright';\r\nimport { userLogin } from '../Redux/Actons';\r\n\r\nconst HomeScreen = () => {\r\n    const { addToast } = useToasts();\r\n    const { user } = useSelector((state) => state.userLogin);\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const [name, setName] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [images, setImages] = useState([]);\r\n    const [photoUploaded, setPhotoUploaded] = useState(false);\r\n    const footerRef = useRef(0);\r\n\r\n    const uploadFile = async (e) => {\r\n        const { files } = e.target;\r\n        const formData = new FormData();\r\n        for (let i = 0; i < files.length; i++) {\r\n            formData.append('uploads', files[i]);\r\n        }\r\n\r\n        try {\r\n            const { data } = await axios.post('/api/v1/upload', formData);\r\n            data.map((image) => setImages((preImage) => [...preImage, image.filePath]));\r\n            setPhotoUploaded(true);\r\n        } catch (error) {\r\n            console.log(error.response);\r\n        }\r\n    };\r\n\r\n    const removeFile = async (id) => {\r\n        const uploadId = id.split('/uploads/')[1];\r\n        console.log({ id, uploadId });\r\n        await axios.delete(`/api/v1/upload/${uploadId}`);\r\n        setImages(images.filter((singleImage) => singleImage !== id));\r\n        setPhotoUploaded(false);\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (!name || !email) {\r\n            addToast('Name or Email can not be null', {\r\n                autoDismiss: true,\r\n                appearance: 'error',\r\n            });\r\n        } else {\r\n            const data = { name, email, photo: images[0] };\r\n            dispatch(userLogin(data));\r\n            history.push('/chat');\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        if (user && user?.isLoggedIn) {\r\n            history.push('/chat');\r\n        }\r\n    }, [history, dispatch, user]);\r\n\r\n    const handlePhotoUploaded = async () => {\r\n        try {\r\n            if (email && !photoUploaded) {\r\n                const { data } = await axios.get(`/api/v1/user?email=${email}`);\r\n                if (data.isSuccess) {\r\n                    setImages([data.user.photo]);\r\n                }\r\n            } else if (!email) {\r\n                addToast('Email can not be null', {\r\n                    autoDismiss: true,\r\n                    appearance: 'error',\r\n                });\r\n                setPhotoUploaded(false);\r\n            } else if (email && photoUploaded) {\r\n                setImages([]);\r\n            }\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-primary login__screen\">\r\n            <Container className=\"\">\r\n                <h3 className=\"text-white pt-5 text-center\">e-chat-Buddy</h3>\r\n                <Row>\r\n                    <Col lg={4} />\r\n                    <Col xs={12} md={12} lg={4}>\r\n                        <Form onSubmit={handleSubmit} className=\"my-5\">\r\n                            <div className=\"d-flex justify-content-center align-items-center position-relative photo\">\r\n                                <Avatar\r\n                                    alt={name}\r\n                                    src={images[0] ?? '/logo.gif'}\r\n                                    style={{ height: 150, width: 150 }}\r\n                                    className=\"shadow-lg border border-dark\"\r\n                                />\r\n                                {images[0] && (\r\n                                    <IconButton\r\n                                        className=\"position-absolute delete__icon\"\r\n                                        onClick={() => removeFile(images[0])}\r\n                                    >\r\n                                        <CancelIcon className=\"text-white\" />\r\n                                    </IconButton>\r\n                                )}\r\n                            </div>\r\n                            <Form.Group className=\"mb-3\" controlId=\"name\">\r\n                                <Form.Label className=\"text-white\">User Name</Form.Label>\r\n                                <Form.Control\r\n                                    value={name}\r\n                                    onChange={(e) => setName(e.target.value)}\r\n                                    type=\"text\"\r\n                                    placeholder=\"Enter Name\"\r\n                                    htmlFor=\"name\"\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"mb-3\" controlId=\"email\">\r\n                                <Form.Label className=\"text-white\">Email address</Form.Label>\r\n                                <Form.Control\r\n                                    value={email}\r\n                                    onChange={(e) => setEmail(e.target.value)}\r\n                                    type=\"email\"\r\n                                    placeholder=\"Enter email\"\r\n                                    htmlFor=\"email\"\r\n                                />\r\n                            </Form.Group>\r\n                            <FormControlLabel\r\n                                control={\r\n                                    <Checkbox\r\n                                        checked={photoUploaded}\r\n                                        onChange={() => {\r\n                                            setPhotoUploaded(!photoUploaded);\r\n                                            handlePhotoUploaded();\r\n                                        }}\r\n                                        className=\"text-white\"\r\n                                    />\r\n                                }\r\n                                label=\"Photo is Uploaded\"\r\n                                className=\"text-white\"\r\n                            />\r\n\r\n                            {!photoUploaded && (\r\n                                <Form.Group className=\"mb-3\" controlId=\"photo\">\r\n                                    <Form.Label className=\"text-white\">\r\n                                        Upload Your Photo\r\n                                    </Form.Label>\r\n                                    <div className=\"input-group mb-3\">\r\n                                        <input\r\n                                            type=\"file\"\r\n                                            className=\"form-control\"\r\n                                            accept=\"image/*\"\r\n                                            onChange={uploadFile}\r\n                                            placeholder=\"Input Photos\"\r\n                                            id=\"inputGroupFile02\"\r\n                                        />\r\n                                    </div>\r\n                                </Form.Group>\r\n                            )}\r\n\r\n                            <Button variant=\"outline-secondary w-100\" type=\"submit\">\r\n                                Login\r\n                            </Button>\r\n                        </Form>\r\n                    </Col>\r\n                    <Col lg={4} />\r\n                </Row>\r\n            </Container>\r\n            <Navbar className=\"nav__bar fixed-bottom\" ref={footerRef} expand=\"lg\">\r\n                <Container className=\"d-flex flex-column\">\r\n                    <Nav className=\" align-items-center py-2 text-white\">\r\n                        Copyright <CopyrightIcon className=\"me-2\" /> {new Date().getFullYear()}{' '}\r\n                        e-Chat-Buddy. All rights reserved.\r\n                    </Nav>\r\n                    <Nav className=\"align-items-center pb-4 text-white\">\r\n                        Designed & Developed By Sazzad Bin Anwar\r\n                    </Nav>\r\n                </Container>\r\n            </Navbar>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default HomeScreen;\r\n","/* eslint-disable import/prefer-default-export */\r\nimport axios from 'axios';\r\nimport {\r\n    USER_LOGIN_FAILED,\r\n    USER_LOGIN_REQUEST,\r\n    USER_LOGIN_SUCCESS,\r\n    USER_LOGOUT,\r\n    USER_UPDATE_FAILED,\r\n    USER_UPDATE_SUCCESS,\r\n} from './Constants';\r\n\r\nexport const userLogin = (user) => async (dispatch) => {\r\n    try {\r\n        dispatch({\r\n            type: USER_LOGIN_REQUEST,\r\n        });\r\n\r\n        const { data } = await axios.post('/api/v1/user', user);\r\n        console.log(data);\r\n        localStorage.setItem('user', JSON.stringify(data.user));\r\n\r\n        dispatch({\r\n            type: USER_LOGIN_SUCCESS,\r\n            payload: data.user,\r\n        });\r\n    } catch (error) {\r\n        dispatch({\r\n            type: USER_LOGIN_FAILED,\r\n            payload: error.response ? error.response : error.message,\r\n        });\r\n    }\r\n};\r\n\r\nexport const userLogout = () => async (dispatch) => {\r\n    localStorage.removeItem('user');\r\n    dispatch({\r\n        type: USER_LOGOUT,\r\n    });\r\n};\r\n\r\nexport const userUpdate = (user) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.put('/api/v1/user', user);\r\n        localStorage.setItem('user', JSON.stringify(data.user));\r\n        dispatch({\r\n            type: USER_UPDATE_SUCCESS,\r\n            payload: data.user,\r\n        });\r\n    } catch (error) {\r\n        dispatch({\r\n            type: USER_UPDATE_FAILED,\r\n            payload: error.response ? error.response : error.message,\r\n        });\r\n    }\r\n};\r\n","const NotFound = () => (\r\n    <div\r\n        style={{ position: 'absolute', top: '50%', left: '50%', transform: 'translate(-50%,-50%)' }}\r\n    >\r\n        <h4>404 | Page Not Found</h4>\r\n    </div>\r\n);\r\n\r\nexport default NotFound;\r\n","/* eslint-disable react/jsx-props-no-spreading */\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst ProtectedRoute = ({ children, ...rest }) => {\r\n    const { user } = useSelector((state) => state.userLogin);\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={({ location }) =>\r\n                user && user.isLoggedIn ? (\r\n                    children\r\n                ) : (\r\n                    <Redirect\r\n                        to={{\r\n                            pathname: '/',\r\n                            state: { from: location },\r\n                        }}\r\n                    />\r\n                )\r\n            }\r\n        />\r\n    );\r\n};\r\nexport default ProtectedRoute;\r\n","import { Typography } from '@material-ui/core';\r\n\r\nconst Login = () => (\r\n    <>\r\n        <Typography\r\n            component=\"h1\"\r\n            variant=\"h4\"\r\n            style={{\r\n                position: 'absolute',\r\n                left: '50%',\r\n                top: '50%',\r\n                transform: 'translate(-50%,-50%)',\r\n            }}\r\n        >\r\n            This is login page\r\n        </Typography>\r\n    </>\r\n);\r\n\r\nexport default Login;\r\n","/* eslint-disable no-underscore-dangle */\r\n/* eslint-disable jsx-a11y/media-has-caption */\r\n/* eslint-disable no-nested-ternary */\r\n/* eslint-disable no-unused-vars */\r\n/* eslint-disable react/jsx-boolean-value */\r\nimport { Avatar, Card, IconButton, Menu, MenuItem } from '@material-ui/core';\r\nimport { ReactTinyLink } from 'react-tiny-link';\r\nimport moment from 'moment';\r\nimport { Col, Modal, Popover, Row } from 'react-bootstrap';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { useState } from 'react';\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport FileSaver from 'file-saver';\r\nimport InsertDriveFileIcon from '@material-ui/icons/InsertDriveFile';\r\nimport ZoomInIcon from '@material-ui/icons/ZoomIn';\r\nimport path from 'path';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport ReplyIcon from '@material-ui/icons/Reply';\r\nimport { host } from '../Config.json';\r\n\r\nconst Messages = ({ messageDetails, user, roomUser, editMsg, deleteMsg, replyMsg }) => {\r\n    const [show, setShow] = useState(false);\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const [chatImage, setChatImage] = useState('');\r\n    const open = Boolean(anchorEl);\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    console.log(show);\r\n\r\n    if (\r\n        user.email !== messageDetails.from &&\r\n        roomUser.email === messageDetails.from &&\r\n        user.email === messageDetails.to\r\n    ) {\r\n        return (\r\n            <div className=\"d-flex my-3 chat__buddy\" style={{ marginRight: '20%' }}>\r\n                <Avatar alt={roomUser.name} src={roomUser.photo} />\r\n                <div>\r\n                    {messageDetails.message && (\r\n                        <Card\r\n                            body\r\n                            className=\"chat__card chat__person ms-3 p-2\"\r\n                            style={{ width: '100%' }}\r\n                        >\r\n                            {messageDetails.message.startsWith('http') ? (\r\n                                <ReactTinyLink\r\n                                    cardSize=\"small\"\r\n                                    showGraphic={true}\r\n                                    maxLine={2}\r\n                                    minLine={1}\r\n                                    proxyUrl=\"https://corsanywhere.herokuapp.com\"\r\n                                    url={messageDetails.message}\r\n                                />\r\n                            ) : (\r\n                                messageDetails.message\r\n                            )}\r\n                        </Card>\r\n                    )}\r\n                    {messageDetails.file && (\r\n                        <Row>\r\n                            {messageDetails.file.map((fileData) => {\r\n                                if (\r\n                                    path.extname(fileData) === '.png' ||\r\n                                    path.extname(fileData) === '.jpg' ||\r\n                                    path.extname(fileData) === '.jpeg' ||\r\n                                    path.extname(fileData) === '.gif'\r\n                                ) {\r\n                                    return (\r\n                                        <Col xs={12} md={4} className=\"g-2\" key={fileData}>\r\n                                            <Card\r\n                                                elevation={5}\r\n                                                className=\"mb-0 ms-3 p-2 img__card\"\r\n                                                style={{\r\n                                                    cursor: 'pointer',\r\n                                                    position: 'relative',\r\n                                                    height: 200,\r\n                                                    width: 200,\r\n                                                }}\r\n                                            >\r\n                                                <img\r\n                                                    src={fileData}\r\n                                                    height={200}\r\n                                                    width={200}\r\n                                                    className=\"position-absolute\"\r\n                                                    alt={`upload-${fileData}`}\r\n                                                    style={{\r\n                                                        right: 0,\r\n                                                        top: 0,\r\n                                                        bottom: 0,\r\n                                                        left: 0,\r\n                                                    }}\r\n                                                />\r\n                                                <div className=\"position-absolute start-0 top-0 end-0 bottom-0 download__btn\">\r\n                                                    <GetAppIcon\r\n                                                        className=\"bg-white rounded-circle position-absolute\"\r\n                                                        style={{\r\n                                                            top: '50%',\r\n                                                            left: '50%',\r\n                                                            transform: 'translate(-50%,-50%)',\r\n                                                            cursor: 'pointer',\r\n                                                            zIndex: 1,\r\n                                                        }}\r\n                                                        onClick={() =>\r\n                                                            FileSaver.saveAs(\r\n                                                                `${host}${fileData}`,\r\n                                                                `image.${path.extname(fileData)}`\r\n                                                            )\r\n                                                        }\r\n                                                    />\r\n                                                </div>\r\n                                                <div className=\"position-absolute start-0 top-0 end-0 bottom-0 download__btn\">\r\n                                                    <ZoomInIcon\r\n                                                        className=\"bg-white rounded-circle position-absolute\"\r\n                                                        style={{\r\n                                                            top: 0,\r\n                                                            right: 0,\r\n                                                            cursor: 'pointer',\r\n                                                        }}\r\n                                                        onClick={() => {\r\n                                                            setShow(true);\r\n                                                            setChatImage(fileData);\r\n                                                        }}\r\n                                                    />\r\n                                                </div>\r\n                                            </Card>\r\n                                        </Col>\r\n                                    );\r\n                                }\r\n\r\n                                if (\r\n                                    path.extname(fileData) === '.mp4' ||\r\n                                    path.extname(fileData) === '.mov' ||\r\n                                    path.extname(fileData) === '.wmv' ||\r\n                                    path.extname(fileData) === '.flv' ||\r\n                                    path.extname(fileData) === '.webm' ||\r\n                                    path.extname(fileData) === '.mkv'\r\n                                ) {\r\n                                    return (\r\n                                        <Col xs={12} className=\"g-2\" key={fileData}>\r\n                                            <Card\r\n                                                elevation={5}\r\n                                                className=\"mb-0 ms-3 p-2 img__card\"\r\n                                                style={{\r\n                                                    cursor: 'pointer',\r\n                                                    position: 'relative',\r\n                                                    height: 400,\r\n                                                    width: 400,\r\n                                                }}\r\n                                            >\r\n                                                <video controls width=\"100%\" height=\"400\">\r\n                                                    <source\r\n                                                        src={fileData}\r\n                                                        type={`video/${\r\n                                                            path.extname(fileData).split('.')[1]\r\n                                                        }`}\r\n                                                    />\r\n                                                </video>\r\n                                            </Card>\r\n                                        </Col>\r\n                                    );\r\n                                }\r\n                                if (\r\n                                    path.extname(fileData) === '.mp3' ||\r\n                                    path.extname(fileData) === '.ogg' ||\r\n                                    path.extname(fileData) === '.mpeg'\r\n                                ) {\r\n                                    return (\r\n                                        <Col xs={12} className=\"g-2\" key={fileData}>\r\n                                            <audio controls>\r\n                                                <source\r\n                                                    src={fileData}\r\n                                                    type={`audio/${\r\n                                                        path.extname(fileData).split('.')[1]\r\n                                                    }`}\r\n                                                />\r\n                                            </audio>\r\n                                        </Col>\r\n                                    );\r\n                                }\r\n                                return (\r\n                                    <Col xs={12} className=\"g-2\" key={fileData}>\r\n                                        <Card\r\n                                            elevation={5}\r\n                                            className=\"mb-0 ms-3 py-1 px-2 rounded\"\r\n                                            style={{\r\n                                                backgroundColor: '#616161',\r\n                                            }}\r\n                                        >\r\n                                            <div\r\n                                                className=\"d-flex justify-content-between align-items-center\"\r\n                                                style={{ width: 200 }}\r\n                                            >\r\n                                                <InsertDriveFileIcon className=\"text-white\" />\r\n                                                <span className=\"col-4 text-truncate text-white\">\r\n                                                    {fileData.split('/')[2]}\r\n                                                </span>\r\n                                                <span className=\"text-white\">\r\n                                                    {path.extname(fileData)}\r\n                                                </span>\r\n                                                <IconButton>\r\n                                                    <GetAppIcon\r\n                                                        className=\"text-white\"\r\n                                                        onClick={() =>\r\n                                                            FileSaver.saveAs(\r\n                                                                `${host}${fileData}`,\r\n                                                                `file.${path.extname(fileData)}`\r\n                                                            )\r\n                                                        }\r\n                                                    />\r\n                                                </IconButton>\r\n                                            </div>\r\n                                        </Card>\r\n                                    </Col>\r\n                                );\r\n                            })}\r\n                        </Row>\r\n                    )}\r\n                    <p className=\"text-white ms-3 mt-1 last__seen\">\r\n                        {moment(messageDetails.sendAt).fromNow()}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    if (user.email === messageDetails.from && roomUser.email === messageDetails.to) {\r\n        return (\r\n            <div\r\n                className=\"d-flex flex-column justify-content-end align-items-end my-3\"\r\n                style={{ marginLeft: '20%' }}\r\n            >\r\n                <div className=\"d-flex my__chat text-right justify-content-end\">\r\n                    <div className=\"chat__card me-3 d-flex justify-content-center align-items-center\">\r\n                        <IconButton\r\n                            aria-label=\"more\"\r\n                            aria-controls=\"long-menu\"\r\n                            aria-haspopup=\"true\"\r\n                            onClick={handleClick}\r\n                            className=\"me-3\"\r\n                        >\r\n                            <MoreVertIcon />\r\n                        </IconButton>\r\n                        <Menu\r\n                            id=\"long-menu\"\r\n                            anchorEl={anchorEl}\r\n                            keepMounted\r\n                            open={open}\r\n                            onClose={handleClose}\r\n                            PaperProps={{\r\n                                style: {\r\n                                    maxHeight: 48 * 4.5,\r\n                                    // width: '20ch',\r\n                                },\r\n                            }}\r\n                        >\r\n                            <MenuItem\r\n                                onClick={() => {\r\n                                    handleClose();\r\n                                    deleteMsg(messageDetails._id);\r\n                                }}\r\n                            >\r\n                                <DeleteIcon />\r\n                            </MenuItem>\r\n                            {messageDetails.message && (\r\n                                <MenuItem\r\n                                    onClick={() => {\r\n                                        handleClose();\r\n                                        editMsg(messageDetails._id);\r\n                                    }}\r\n                                >\r\n                                    <EditIcon />\r\n                                </MenuItem>\r\n                            )}\r\n\r\n                            <MenuItem\r\n                                onClick={() => {\r\n                                    handleClose();\r\n                                    replyMsg(messageDetails._id);\r\n                                }}\r\n                            >\r\n                                <ReplyIcon />\r\n                            </MenuItem>\r\n                        </Menu>\r\n\r\n                        {messageDetails.message && (\r\n                            <Card body className=\"chat__person me-3 p-2\" style={{ width: '100%' }}>\r\n                                {messageDetails.message.startsWith('http') ? (\r\n                                    <ReactTinyLink\r\n                                        cardSize=\"small\"\r\n                                        showGraphic={true}\r\n                                        maxLine={2}\r\n                                        minLine={1}\r\n                                        proxyUrl=\"https://corsanywhere.herokuapp.com\"\r\n                                        url={messageDetails.message}\r\n                                    />\r\n                                ) : (\r\n                                    messageDetails.message\r\n                                )}\r\n                            </Card>\r\n                        )}\r\n                        {messageDetails.file && (\r\n                            <Row>\r\n                                {messageDetails.file.map((fileData) => {\r\n                                    if (\r\n                                        path.extname(fileData) === '.png' ||\r\n                                        path.extname(fileData) === '.jpg' ||\r\n                                        path.extname(fileData) === '.jpeg' ||\r\n                                        path.extname(fileData) === '.gif'\r\n                                    ) {\r\n                                        return (\r\n                                            <Col xs={12} md={4} className=\"g-2\" key={fileData}>\r\n                                                <Card\r\n                                                    elevation={5}\r\n                                                    className=\"mb-0 img__card\"\r\n                                                    style={{\r\n                                                        cursor: 'pointer',\r\n                                                        position: 'relative',\r\n                                                        height: 200,\r\n                                                        width: 200,\r\n                                                    }}\r\n                                                >\r\n                                                    <img\r\n                                                        src={fileData}\r\n                                                        height={200}\r\n                                                        width={200}\r\n                                                        className=\"position-absolute\"\r\n                                                        alt={`upload-${fileData}`}\r\n                                                        style={{\r\n                                                            right: 0,\r\n                                                            top: 0,\r\n                                                            bottom: 0,\r\n                                                            left: 0,\r\n                                                        }}\r\n                                                    />\r\n                                                    <div className=\"position-absolute start-0 top-0 end-0 bottom-0 download__btn\">\r\n                                                        <GetAppIcon\r\n                                                            className=\"bg-white rounded-circle position-absolute\"\r\n                                                            style={{\r\n                                                                top: '50%',\r\n                                                                left: '50%',\r\n                                                                transform: 'translate(-50%,-50%)',\r\n                                                                cursor: 'pointer',\r\n                                                                zIndex: 1,\r\n                                                            }}\r\n                                                            onClick={() =>\r\n                                                                FileSaver.saveAs(\r\n                                                                    `${host}${fileData}`,\r\n                                                                    `image.${path.extname(\r\n                                                                        fileData\r\n                                                                    )}`\r\n                                                                )\r\n                                                            }\r\n                                                        />\r\n                                                    </div>\r\n                                                    <div className=\"position-absolute start-0 top-0 end-0 bottom-0 download__btn\">\r\n                                                        <ZoomInIcon\r\n                                                            className=\"bg-white rounded-circle position-absolute\"\r\n                                                            style={{\r\n                                                                top: 0,\r\n                                                                right: 0,\r\n                                                                cursor: 'pointer',\r\n                                                            }}\r\n                                                            onClick={() => {\r\n                                                                setShow(true);\r\n                                                                setChatImage(fileData);\r\n                                                            }}\r\n                                                        />\r\n                                                    </div>\r\n                                                </Card>\r\n                                            </Col>\r\n                                        );\r\n                                    }\r\n\r\n                                    if (\r\n                                        path.extname(fileData) === '.mp4' ||\r\n                                        path.extname(fileData) === '.mov' ||\r\n                                        path.extname(fileData) === '.wmv' ||\r\n                                        path.extname(fileData) === '.flv' ||\r\n                                        path.extname(fileData) === '.webm' ||\r\n                                        path.extname(fileData) === '.mkv'\r\n                                    ) {\r\n                                        return (\r\n                                            <Col xs={12} className=\"g-2\" key={fileData}>\r\n                                                <Card\r\n                                                    elevation={5}\r\n                                                    className=\"mb-0 img__card\"\r\n                                                    style={{\r\n                                                        cursor: 'pointer',\r\n                                                        position: 'relative',\r\n                                                        height: 400,\r\n                                                        width: 400,\r\n                                                    }}\r\n                                                >\r\n                                                    <video controls width=\"100%\" height=\"400\">\r\n                                                        <source\r\n                                                            src={fileData}\r\n                                                            type={`video/${\r\n                                                                path.extname(fileData).split('.')[1]\r\n                                                            }`}\r\n                                                        />\r\n                                                    </video>\r\n                                                </Card>\r\n                                            </Col>\r\n                                        );\r\n                                    }\r\n                                    if (\r\n                                        path.extname(fileData) === '.mp3' ||\r\n                                        path.extname(fileData) === '.ogg' ||\r\n                                        path.extname(fileData) === '.mpeg'\r\n                                    ) {\r\n                                        return (\r\n                                            <Col xs={12} className=\"g-2\" key={fileData}>\r\n                                                <audio controls>\r\n                                                    <source\r\n                                                        src={fileData}\r\n                                                        type={`audio/${\r\n                                                            path.extname(fileData).split('.')[1]\r\n                                                        }`}\r\n                                                    />\r\n                                                </audio>\r\n                                            </Col>\r\n                                        );\r\n                                    }\r\n                                    return (\r\n                                        <Col xs={12} className=\"g-2\" key={fileData}>\r\n                                            <Card\r\n                                                elevation={5}\r\n                                                className=\"mb-0 py-1 px-2 rounded\"\r\n                                                style={{\r\n                                                    backgroundColor: '#616161',\r\n                                                }}\r\n                                            >\r\n                                                <div\r\n                                                    className=\"d-flex justify-content-between align-items-center\"\r\n                                                    style={{ width: 200 }}\r\n                                                >\r\n                                                    <InsertDriveFileIcon className=\"text-white\" />\r\n                                                    <span className=\"col-4 text-truncate text-white\">\r\n                                                        {fileData.split('/')[2]}\r\n                                                    </span>\r\n                                                    <span className=\"text-white\">\r\n                                                        {path.extname(fileData)}\r\n                                                    </span>\r\n                                                    <IconButton>\r\n                                                        <GetAppIcon\r\n                                                            className=\"text-white\"\r\n                                                            onClick={() =>\r\n                                                                FileSaver.saveAs(\r\n                                                                    `${host}${fileData}`,\r\n                                                                    `file.${path.extname(fileData)}`\r\n                                                                )\r\n                                                            }\r\n                                                        />\r\n                                                    </IconButton>\r\n                                                </div>\r\n                                            </Card>\r\n                                        </Col>\r\n                                    );\r\n                                })}\r\n                            </Row>\r\n                        )}\r\n                    </div>\r\n\r\n                    <Avatar alt={user.name} src={user.photo} />\r\n                </div>\r\n                <p className=\"text-white me-5 mt-1 pe-3 last__seen\">\r\n                    {moment(messageDetails.sendAt).fromNow()}\r\n                </p>\r\n\r\n                {/* modal for picture view */}\r\n                <Modal\r\n                    show={show}\r\n                    onHide={() => setShow(!show)}\r\n                    fullscreen=\"md-down\"\r\n                    centered\r\n                    className=\"shadow-lg w-100\"\r\n                >\r\n                    <img alt={chatImage} src={chatImage} />\r\n                    <CloseIcon\r\n                        className=\"bg-white rounded-circle position-absolute\"\r\n                        style={{\r\n                            top: '-10px',\r\n                            right: '-10px',\r\n                            cursor: 'pointer',\r\n                        }}\r\n                        onClick={() => setShow(!show)}\r\n                    />\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n    if (roomUser.email !== messageDetails.to) {\r\n        return null;\r\n    }\r\n    return null;\r\n};\r\n\r\nexport default Messages;\r\n","import { Avatar, Badge, Card } from '@material-ui/core';\r\nimport moment from 'moment';\r\n\r\nconst Users = ({ userInfo, messages, findRoomUser }) => (\r\n    <Card\r\n        elevation={10}\r\n        body\r\n        className={\r\n            userInfo.isActive\r\n                ? 'bg-success p-2 d-flex align-items-center mb-3'\r\n                : 'bg-dark p-2 d-flex align-items-center mb-3'\r\n        }\r\n        style={{ cursor: 'pointer' }}\r\n        onClick={() => {\r\n            findRoomUser(userInfo.email);\r\n        }}\r\n    >\r\n        <Badge\r\n            badgeContent={\r\n                userInfo.isActive\r\n                    ? messages.filter((userMessage) => userMessage.from === userInfo.email).length\r\n                    : 0\r\n            }\r\n            color=\"primary\"\r\n        >\r\n            <Avatar alt={userInfo.name} src={userInfo.photo} className=\"shadow-lg border\" />\r\n        </Badge>\r\n\r\n        <div className=\"ps-3 \">\r\n            <p className=\"text-white my-0 fs-6 user__name_list\">{userInfo.name}</p>\r\n            <p className=\"text-white my-0 last__seen\">\r\n                {userInfo.isActive ? 'Online' : `Active ${moment(userInfo.updatedAt).fromNow()}`}\r\n                {}\r\n            </p>\r\n        </div>\r\n    </Card>\r\n);\r\n\r\nexport default Users;\r\n","/* eslint-disable jsx-a11y/media-has-caption */\r\nimport { Card } from '@material-ui/core';\r\nimport { Col } from 'react-bootstrap';\r\nimport path from 'path';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport InsertDriveFileIcon from '@material-ui/icons/InsertDriveFile';\r\nimport { useRef } from 'react';\r\n\r\nconst UploadPreview = ({ fileData, removeFile }) => {\r\n    const cardHeight = useRef(0);\r\n\r\n    if (\r\n        path.extname(fileData) === '.png' ||\r\n        path.extname(fileData) === '.jpg' ||\r\n        path.extname(fileData) === '.jpeg' ||\r\n        path.extname(fileData) === '.gif'\r\n    ) {\r\n        return (\r\n            <Col xs={12} md={6} className=\"g-2\" key={fileData}>\r\n                <Card\r\n                    elevation={5}\r\n                    className=\"mb-0 img__card\"\r\n                    style={{\r\n                        position: 'relative',\r\n                        height: 200,\r\n                        width: 200,\r\n                    }}\r\n                >\r\n                    <img\r\n                        src={fileData}\r\n                        height={200}\r\n                        width={200}\r\n                        className=\"position-absolute\"\r\n                        alt={`upload-${fileData}`}\r\n                        style={{\r\n                            right: 0,\r\n                            top: 0,\r\n                            bottom: 0,\r\n                            left: 0,\r\n                        }}\r\n                    />\r\n                    <CancelIcon\r\n                        className=\"position-absolute\"\r\n                        style={{\r\n                            right: 0,\r\n                            top: 0,\r\n                            cursor: 'pointer',\r\n                        }}\r\n                        onClick={() => removeFile(fileData)}\r\n                    />\r\n                </Card>\r\n            </Col>\r\n        );\r\n    }\r\n\r\n    if (\r\n        path.extname(fileData) === '.mp4' ||\r\n        path.extname(fileData) === '.mov' ||\r\n        path.extname(fileData) === '.wmv' ||\r\n        path.extname(fileData) === '.flv' ||\r\n        path.extname(fileData) === '.webm' ||\r\n        path.extname(fileData) === '.mkv'\r\n    ) {\r\n        return (\r\n            <Col xs={12} className=\"g-2\" key={fileData}>\r\n                <Card\r\n                    elevation={5}\r\n                    className=\"mb-0 img__card\"\r\n                    style={{\r\n                        position: 'relative',\r\n                    }}\r\n                >\r\n                    <video controls width=\"100%\" height=\"400\">\r\n                        <source\r\n                            src={fileData}\r\n                            type={`video/${path.extname(fileData).split('.')[1]}`}\r\n                        />\r\n                    </video>\r\n                    <CancelIcon\r\n                        className=\"position-absolute\"\r\n                        style={{\r\n                            right: 0,\r\n                            top: 0,\r\n                            cursor: 'pointer',\r\n                            zIndex: 1,\r\n                        }}\r\n                        onClick={() => removeFile(fileData)}\r\n                    />\r\n                </Card>\r\n            </Col>\r\n        );\r\n    }\r\n    if (\r\n        path.extname(fileData) === '.mp3' ||\r\n        path.extname(fileData) === '.ogg' ||\r\n        path.extname(fileData) === '.mpeg'\r\n    ) {\r\n        return (\r\n            <Col xs={12} className=\"g-2\" key={fileData}>\r\n                <div className=\"position-relative\">\r\n                    <audio controls>\r\n                        <source\r\n                            src={fileData}\r\n                            type={`audio/${path.extname(fileData).split('.')[1]}`}\r\n                        />\r\n                    </audio>\r\n                    <CancelIcon\r\n                        className=\"position-absolute\"\r\n                        style={{\r\n                            right: 0,\r\n                            top: 0,\r\n                            cursor: 'pointer',\r\n                        }}\r\n                        onClick={() => removeFile(fileData)}\r\n                    />\r\n                </div>\r\n            </Col>\r\n        );\r\n    }\r\n    console.log(cardHeight.current.offsetHeight);\r\n    return (\r\n        <Col xs={12} md={6} className=\"g-2\" key={fileData}>\r\n            <Card\r\n                elevation={5}\r\n                className=\"mb-0 py-3 px-3 rounded position-relative\"\r\n                style={{\r\n                    backgroundColor: '#616161',\r\n                }}\r\n            >\r\n                <div\r\n                    className=\"d-flex justify-content-between align-items-center\"\r\n                    style={{ width: 200 }}\r\n                >\r\n                    <InsertDriveFileIcon className=\"text-white\" />\r\n                    <span className=\"col-4 text-truncate text-white\">{fileData.split('/')[2]}</span>\r\n                    <span className=\"text-white\">{path.extname(fileData)}</span>\r\n                    <CancelIcon\r\n                        className=\"position-absolute\"\r\n                        style={{\r\n                            right: 0,\r\n                            top: 0,\r\n                            cursor: 'pointer',\r\n                        }}\r\n                        onClick={() => removeFile(fileData)}\r\n                    />\r\n                </div>\r\n            </Card>\r\n        </Col>\r\n    );\r\n};\r\n\r\nexport default UploadPreview;\r\n","/* eslint-disable no-plusplus */\r\n/* eslint-disable jsx-a11y/label-has-associated-control */\r\n/* eslint-disable no-underscore-dangle */\r\n/* eslint-disable no-unused-vars */\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport {\r\n    Button,\r\n    CloseButton,\r\n    Col,\r\n    Container,\r\n    Form,\r\n    FormControl,\r\n    InputGroup,\r\n    Modal,\r\n    Nav,\r\n    Navbar,\r\n    NavDropdown,\r\n    Row,\r\n} from 'react-bootstrap';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport { Link, NavLink, useHistory, useLocation } from 'react-router-dom';\r\nimport { Avatar, Card, Badge, IconButton, CardMedia } from '@material-ui/core';\r\nimport moment from 'moment';\r\nimport { io } from 'socket.io-client';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useToasts } from 'react-toast-notifications';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport AttachmentIcon from '@material-ui/icons/Attachment';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport axios from 'axios';\r\nimport CopyrightIcon from '@material-ui/icons/Copyright';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport { userLogout, userUpdate } from '../Redux/Actons';\r\nimport Messages from '../Components/Messages';\r\nimport Users from '../Components/Users';\r\nimport UploadPreview from '../Components/UploadPreview';\r\n\r\nconst Chat = () => {\r\n    const { user } = useSelector((state) => state.userLogin);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const [users, setUsers] = useState([]);\r\n    const { addToast } = useToasts();\r\n    const [roomUser, setRoomUser] = useState({});\r\n    const [messages, setMessages] = useState([]);\r\n    const [message, setMessage] = useState('');\r\n    const [search, setSearch] = useState('');\r\n    const [images, setImages] = useState([]);\r\n    const [show, setShow] = useState(false);\r\n    const [roomUserPicShow, setRoomUserPicShow] = useState(false);\r\n    const [replyMsgDetails, setReplyMsgDetails] = useState({});\r\n    const heightRef = useRef(0);\r\n    const footerRef = useRef(0);\r\n    const audio = new Audio('/msg_sound.mp3');\r\n\r\n    // const socket = io('/');\r\n    const socket = useRef(null);\r\n\r\n    useEffect(() => {\r\n        socket.current = io('/');\r\n        socket.current.on('user-joined', (userData) => {\r\n            const othersData = userData.allUsers.filter(\r\n                (userInfo) => userInfo.email !== user.email\r\n            );\r\n            if (\r\n                userData.joinedUser &&\r\n                userData.joinedUser.email !== user.email &&\r\n                user?.isLoggedIn\r\n            ) {\r\n                addToast(`${userData.joinedUser.name} is active`, {\r\n                    appearance: 'info',\r\n                    autoDismiss: true,\r\n                });\r\n            } else if (\r\n                userData.leavingUser &&\r\n                userData.leavingUser.email !== user.email &&\r\n                user?.isLoggedIn\r\n            ) {\r\n                setRoomUser(userData.leavingUser);\r\n            }\r\n            setUsers(othersData);\r\n        });\r\n        socket.current.on('room-user-details', (userData) => {\r\n            setRoomUser(userData);\r\n        });\r\n\r\n        socket.current.on('chat-message', (chat) => {\r\n            audio.play();\r\n            setMessages((prevMsg) => [...prevMsg, chat]);\r\n        });\r\n\r\n        socket.current.on('removeMsgFromChat', async (data) => {\r\n            try {\r\n                const { data: msg } = await axios.get('/api/v1/messages');\r\n                setMessages(msg.messages);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n            console.log(messages);\r\n        });\r\n\r\n        socket.current.emit('user-login', user);\r\n\r\n        try {\r\n            const getMessage = async () => {\r\n                const { data } = await axios.get('/api/v1/messages');\r\n                setMessages(data.messages);\r\n            };\r\n            getMessage();\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n\r\n        if (!user && !user?.isLoggedIn) {\r\n            history.push('/');\r\n        }\r\n\r\n        return () => {\r\n            socket.current.off('user-joined', (data) => {});\r\n            socket.current.off('room-user-details', (userData) => {});\r\n            socket.current.off('chat-message', (chat) => {});\r\n            socket.current.off('removeMsgFromChat', (data) => {});\r\n            // socket.current.off('roomUser', (userData) => {});\r\n        };\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [addToast, user, search]);\r\n\r\n    const findRoomUser = (email) => {\r\n        setRoomUser(users.filter((userInfo) => userInfo.email === email)[0]);\r\n    };\r\n\r\n    const sendMessage = async (e) => {\r\n        e.preventDefault();\r\n        const chat = {\r\n            user: user._id,\r\n            from: user.email,\r\n            file: images,\r\n            to: roomUser.email,\r\n            message,\r\n            sendAt: Date.now(),\r\n        };\r\n        if ((message && images) || images) {\r\n            setMessage('');\r\n            try {\r\n                const { data } = await axios.post('/api/v1/messages', chat);\r\n                setMessages([...messages, data.message]);\r\n                socket.current.emit('message', data.message);\r\n                setShow(false);\r\n                setImages([]);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        } else {\r\n            addToast('Please Write something', {\r\n                appearance: 'info',\r\n                autoDismiss: true,\r\n            });\r\n        }\r\n    };\r\n\r\n    const uploadFile = async (e) => {\r\n        const { files } = e.target;\r\n        const formData = new FormData();\r\n        for (let i = 0; i < files.length; i++) {\r\n            formData.append('uploads', files[i]);\r\n        }\r\n\r\n        try {\r\n            const { data } = await axios.post('/api/v1/upload', formData);\r\n            data.map((image) => setImages((preImage) => [...preImage, image.filePath]));\r\n        } catch (error) {\r\n            console.log(error.response);\r\n        }\r\n    };\r\n\r\n    const removeFile = async (id) => {\r\n        const uploadId = id.split('/uploads/')[1];\r\n        await axios.delete(`/api/v1/upload/${uploadId}`);\r\n        setImages(images.filter((singleImage) => singleImage !== id));\r\n    };\r\n\r\n    const onCloseRemoveImages = () => {\r\n        if (images.length) {\r\n            images.map((image) => removeFile(image));\r\n            if (images.length - 1 > 0) {\r\n                addToast(`Remove ${images.length - 1} files`, {\r\n                    autoDismiss: true,\r\n                    appearance: 'info',\r\n                });\r\n            }\r\n        }\r\n        if (!images.length) {\r\n            setShow(!show);\r\n        }\r\n    };\r\n\r\n    const deleteMsg = (id) => {\r\n        socket.current.emit('messageDelete', id);\r\n    };\r\n    const editMsg = (id) => {};\r\n\r\n    const replyMsg = (id) => {\r\n        setReplyMsgDetails(messages.find((findMsg) => findMsg._id === id));\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Navbar bg=\"dark\" className=\"nav__bar\" ref={heightRef} expand=\"lg\">\r\n                <Container fluid={('xs', 'sm', 'md')}>\r\n                    <Link to=\"/\">\r\n                        <Navbar.Brand className=\"text-white align-items-center\">\r\n                            <img\r\n                                className=\"app__logo me-2\"\r\n                                height=\"30px\"\r\n                                src=\"/logo.gif\"\r\n                                alt=\"logo\"\r\n                            />\r\n                            <span className=\"h4\">Chat-Buddy</span>\r\n                        </Navbar.Brand>\r\n                    </Link>\r\n                    <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                    <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                        <Nav className=\"ms-auto align-items-center\">\r\n                            <Nav.Link className=\"text-white fs-5\">\r\n                                <NavLink to=\"/\">Home</NavLink>\r\n                            </Nav.Link>\r\n                            <Nav.Link className=\"text-white fs-5\">{user.name}</Nav.Link>\r\n                            <Nav.Link className=\"text-white fs-5\">{user.email}</Nav.Link>\r\n                            <Nav.Link className=\"text-white\">\r\n                                <IconButton\r\n                                    className=\"fs-7\"\r\n                                    onClick={() => {\r\n                                        dispatch(userLogout());\r\n                                        socket.current.disconnect();\r\n                                        history.push('/');\r\n                                    }}\r\n                                >\r\n                                    <ExitToAppIcon className=\"text-white\" />\r\n                                    <span className=\"logout\">Logout</span>{' '}\r\n                                </IconButton>\r\n                            </Nav.Link>\r\n                        </Nav>\r\n                    </Navbar.Collapse>\r\n                </Container>\r\n            </Navbar>\r\n\r\n            <section className=\"bg__black\">\r\n                <Container fluid={('sm', 'md', 'lg')}>\r\n                    <Row>\r\n                        <Col\r\n                            md={3}\r\n                            style={{\r\n                                height: `calc(100vh - ${\r\n                                    heightRef.current.offsetHeight + footerRef.current.offsetHeight\r\n                                }px)`,\r\n                                backgroundColor: '#1c2834',\r\n                            }}\r\n                        >\r\n                            <div className=\"search__bar\">\r\n                                <InputGroup className=\"py-3\">\r\n                                    <InputGroup.Text id=\"search\" className=\"bg-white border-end-0\">\r\n                                        <SearchIcon />\r\n                                    </InputGroup.Text>\r\n                                    <FormControl\r\n                                        className=\"border-start-0\"\r\n                                        placeholder=\"Username\"\r\n                                        aria-label=\"Username\"\r\n                                        aria-describedby=\"search\"\r\n                                        value={search}\r\n                                        onChange={(e) => setSearch(e.target.value)}\r\n                                        type=\"text\"\r\n                                    />\r\n                                </InputGroup>\r\n                            </div>\r\n                            {users &&\r\n                                users.map((userInfo) => (\r\n                                    <Users\r\n                                        userInfo={userInfo}\r\n                                        messages={messages}\r\n                                        findRoomUser={findRoomUser}\r\n                                        key={userInfo.email}\r\n                                    />\r\n                                ))}\r\n                        </Col>\r\n                        <Col md={9} className=\"bg-primary\">\r\n                            <main className=\"position-relative h-100\">\r\n                                {roomUser.name ? (\r\n                                    <>\r\n                                        <section\r\n                                            className=\"message__header d-flex align-items-center py-4 px-2 border-bottom\"\r\n                                            id=\"user__head\"\r\n                                        >\r\n                                            <Avatar\r\n                                                alt={roomUser.name}\r\n                                                src={roomUser.photo}\r\n                                                style={{ height: 50, width: 50, cursor: 'pointer' }}\r\n                                                onClick={() => setRoomUserPicShow(true)}\r\n                                            />\r\n                                            <div className=\"ps-3\">\r\n                                                <h4 className=\"text-white my-0\">{roomUser.name}</h4>\r\n                                                <p className=\"text-white my-0\">\r\n                                                    {roomUser.isActive\r\n                                                        ? 'Online'\r\n                                                        : `Last Seen ${moment(\r\n                                                              roomUser.updatedAt\r\n                                                          ).calendar()}`}\r\n                                                </p>\r\n                                            </div>\r\n                                        </section>\r\n                                        <ScrollToBottom className=\"message__body overflow-auto position-relative\">\r\n                                            {messages &&\r\n                                                messages.map((messageDetails) => (\r\n                                                    <Messages\r\n                                                        messageDetails={messageDetails}\r\n                                                        user={user}\r\n                                                        roomUser={roomUser}\r\n                                                        removeFile={removeFile}\r\n                                                        editMsg={editMsg}\r\n                                                        deleteMsg={deleteMsg}\r\n                                                        replyMsg={replyMsg}\r\n                                                        key={messageDetails.id}\r\n                                                    />\r\n                                                ))}\r\n                                        </ScrollToBottom>\r\n                                        <section\r\n                                            className=\"input__area position-absolute bottom-0 start-0 end-0\"\r\n                                            id=\"text__area\"\r\n                                        >\r\n                                            <form\r\n                                                onSubmit={sendMessage}\r\n                                                className=\"d-flex justify-content-center align-items-center mb-2\"\r\n                                            >\r\n                                                <Form.Group\r\n                                                    className=\"w-100\"\r\n                                                    controlId=\"exampleForm.ControlTextarea1\"\r\n                                                >\r\n                                                    <Form.Control\r\n                                                        value={message}\r\n                                                        onChange={(e) => setMessage(e.target.value)}\r\n                                                        as=\"textarea\"\r\n                                                        row={1}\r\n                                                    />\r\n                                                </Form.Group>\r\n\r\n                                                <Button\r\n                                                    variant=\"outline-secondary rounded-circle p-2 pl-3\"\r\n                                                    className=\"ms-2\"\r\n                                                    onClick={() => setShow(!show)}\r\n                                                >\r\n                                                    <AttachmentIcon className=\"fs-7\" />\r\n                                                </Button>\r\n                                                <Button\r\n                                                    variant=\"outline-secondary rounded-circle p-2 pl-3 shadow-lg\"\r\n                                                    className=\"ms-2\"\r\n                                                    type=\"submit\"\r\n                                                >\r\n                                                    <SendIcon className=\"fs-7\" />\r\n                                                </Button>\r\n                                            </form>\r\n                                        </section>\r\n                                    </>\r\n                                ) : (\r\n                                    <div\r\n                                        style={{\r\n                                            position: 'absolute',\r\n                                            top: '50%',\r\n                                            left: '50%',\r\n                                            transform: 'translate(-50%,-50%)',\r\n                                        }}\r\n                                    >\r\n                                        <h4 className=\"text-white\">Please Select a conversation</h4>\r\n                                    </div>\r\n                                )}\r\n                            </main>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n            </section>\r\n\r\n            {/* footer nav */}\r\n            <Navbar\r\n                style={{ background: '#000' }}\r\n                className=\"nav__bar \"\r\n                ref={footerRef}\r\n                expand=\"lg\"\r\n            >\r\n                <Container fluid={('sm', 'md')}>\r\n                    <Nav className=\"me-auto align-items-center py-3 text-white\">\r\n                        Copyright <CopyrightIcon className=\"me-2\" /> {new Date().getFullYear()}{' '}\r\n                        e-Chat-Buddy. All rights reserved.\r\n                    </Nav>\r\n                    <Nav className=\"ms-auto align-items-center py-3 text-white\">\r\n                        Designed & Developed By Sazzad Bin Anwar\r\n                    </Nav>\r\n                </Container>\r\n            </Navbar>\r\n\r\n            {/* All modals */}\r\n            {/* Modal for image upload */}\r\n            <Modal\r\n                show={show}\r\n                onHide={() => setShow(!show)}\r\n                fullscreen=\"md-down\"\r\n                centered\r\n                backdrop=\"static\"\r\n                className=\"shadow-lg\"\r\n            >\r\n                <Modal.Header>\r\n                    <Modal.Title className=\"position-relative w-100\">\r\n                        Upload File{' '}\r\n                        <IconButton\r\n                            className=\"position-absolute top-0 end-0\"\r\n                            onClick={() => onCloseRemoveImages()}\r\n                        >\r\n                            <CloseIcon />\r\n                        </IconButton>\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <Form.Group className=\"mb-3\" controlId=\"photo\">\r\n                        <Form.Label className=\"text-black\">Upload Your file</Form.Label>\r\n                        <div className=\"input-group mb-3\">\r\n                            <input\r\n                                type=\"file\"\r\n                                className=\"form-control\"\r\n                                onChange={uploadFile}\r\n                                placeholder=\"Input Photos\"\r\n                                id=\"inputGroupFile02\"\r\n                                multiple\r\n                            />\r\n                        </div>\r\n                    </Form.Group>\r\n                    <Row\r\n                        style={{\r\n                            maxHeight: 450,\r\n                            overflowY: 'auto',\r\n                        }}\r\n                    >\r\n                        {images &&\r\n                            images.map((image) => (\r\n                                <UploadPreview\r\n                                    fileData={image}\r\n                                    removeFile={removeFile}\r\n                                    key={image}\r\n                                />\r\n                            ))}\r\n                    </Row>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={() => onCloseRemoveImages()}>\r\n                        Close\r\n                    </Button>\r\n                    <Button variant=\"outline-primary\" onClick={sendMessage}>\r\n                        <SendIcon className=\"fs-7\" />\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n\r\n            {/* modal for picture view */}\r\n            <Modal\r\n                show={roomUserPicShow}\r\n                onHide={() => setRoomUserPicShow(!roomUserPicShow)}\r\n                fullscreen=\"md-down\"\r\n                centered\r\n                className=\"shadow-lg w-100\"\r\n            >\r\n                <img alt={roomUser.name} src={roomUser.photo} />\r\n                <IconButton\r\n                    className=\"position-absolute top-0 end-0 bg-dark\"\r\n                    onClick={() => setRoomUserPicShow(!roomUserPicShow)}\r\n                >\r\n                    <CloseIcon className=\"text-white\" />\r\n                </IconButton>\r\n            </Modal>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Chat;\r\n","import { Card } from '@material-ui/core';\r\nimport InsertDriveFileIcon from '@material-ui/icons/InsertDriveFile';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\n\r\n/* eslint-disable jsx-a11y/media-has-caption */\r\nconst Test = () => {\r\n    console.log('hello');\r\n    return (\r\n        <Container className=\"mt-5\">\r\n            <Row>\r\n                <Col xs={12} md={3}>\r\n                    <Card\r\n                        elevation={5}\r\n                        className=\"mb-0 p-1 border rounded d-flex justify-content-between align-items-center\"\r\n                        style={{\r\n                            backgroundColor: '#616161',\r\n                        }}\r\n                    >\r\n                        <InsertDriveFileIcon className=\"text-white\" />\r\n                    </Card>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Test;\r\n","/* eslint-disable no-unused-vars */\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\nimport HomeScreen from '../Screens/HomeScreen';\r\nimport NotFound from '../CustomComponents/NotFound';\r\nimport ProtectedRoute from '../Components/ProtectedRoute';\r\nimport Login from '../Screens/Login';\r\nimport Chat from '../Screens/Chat';\r\nimport Test from '../Components/Test';\r\n\r\nconst AppRoutes = () => (\r\n    <Switch>\r\n        <Route path=\"/login\" component={Login} />\r\n        <Route path=\"/test\" component={Test} />\r\n        <ProtectedRoute path=\"/chat\">\r\n            <Chat />\r\n        </ProtectedRoute>\r\n        <Route path=\"/not-found\" component={NotFound} />\r\n        <Route exact path=\"/\" component={HomeScreen} />\r\n        <Redirect to=\"/not-found\" />\r\n    </Switch>\r\n);\r\n\r\nexport default AppRoutes;\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\nimport AppRoutes from './Routes/AppRoutes';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './assets/css/global.css';\r\nimport './assets/css/custom.css';\r\n\r\nconst App = () => (\r\n    <Router>\r\n        <Route path=\"/\" component={AppRoutes} />\r\n    </Router>\r\n);\r\n\r\nexport default App;\r\n","/* eslint-disable no-unused-vars */\r\nimport { applyMiddleware, combineReducers, createStore } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport { loginReducer } from './Reducers';\r\n\r\nconst reducer = combineReducers({\r\n    userLogin: loginReducer,\r\n});\r\n\r\nconst getUser = localStorage.getItem('user') ? JSON.parse(localStorage.getItem('user')) : {};\r\n\r\nconst initialState = {\r\n    userLogin: {\r\n        user: getUser.isLoggedIn ? getUser : { isLoggedIn: false },\r\n    },\r\n};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n    reducer,\r\n    initialState,\r\n    composeWithDevTools(applyMiddleware(...middleware))\r\n);\r\n\r\nexport default store;\r\n","/* eslint-disable import/prefer-default-export */\r\nimport {\r\n    USER_LOGIN_FAILED,\r\n    USER_LOGIN_REQUEST,\r\n    USER_LOGIN_SUCCESS,\r\n    USER_LOGOUT,\r\n    USER_UPDATE_FAILED,\r\n    USER_UPDATE_SUCCESS,\r\n} from './Constants';\r\n\r\nexport const loginReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case USER_LOGIN_REQUEST:\r\n            return { loading: true };\r\n        case USER_LOGIN_SUCCESS:\r\n            return { loading: false, user: action.payload };\r\n        case USER_UPDATE_SUCCESS:\r\n            return { loading: false, user: action.payload };\r\n        case USER_UPDATE_FAILED:\r\n            return { loading: false, error: action.payload };\r\n        case USER_LOGIN_FAILED:\r\n            return { loading: false, error: action.payload };\r\n        case USER_LOGOUT:\r\n            return {};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","const reportWebVitals = (onPerfEntry) => {\r\n    if (onPerfEntry && onPerfEntry instanceof Function) {\r\n        import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n            getCLS(onPerfEntry);\r\n            getFID(onPerfEntry);\r\n            getFCP(onPerfEntry);\r\n            getLCP(onPerfEntry);\r\n            getTTFB(onPerfEntry);\r\n        });\r\n    }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n    window.location.hostname === 'localhost' ||\r\n        // [::1] is the IPv6 localhost address.\r\n        window.location.hostname === '[::1]' ||\r\n        // 127.0.0.0/8 are considered localhost for IPv4.\r\n        window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\nfunction registerValidSW(swUrl, config) {\r\n    navigator.serviceWorker\r\n        .register(swUrl)\r\n        .then((registration) => {\r\n            // eslint-disable-next-line no-param-reassign\r\n            registration.onupdatefound = () => {\r\n                const installingWorker = registration.installing;\r\n                if (installingWorker == null) {\r\n                    return;\r\n                }\r\n                installingWorker.onstatechange = () => {\r\n                    if (installingWorker.state === 'installed') {\r\n                        if (navigator.serviceWorker.controller) {\r\n                            // At this point, the updated precached content has been fetched,\r\n                            // but the previous service worker will still serve the older\r\n                            // content until all client tabs are closed.\r\n                            console.log(\r\n                                'New content is available and will be used when all ' +\r\n                                    'tabs for this page are closed. See https://cra.link/PWA.'\r\n                            );\r\n\r\n                            // Execute callback\r\n                            if (config && config.onUpdate) {\r\n                                config.onUpdate(registration);\r\n                            }\r\n                        } else {\r\n                            // At this point, everything has been precached.\r\n                            // It's the perfect time to display a\r\n                            // \"Content is cached for offline use.\" message.\r\n                            console.log('Content is cached for offline use.');\r\n\r\n                            // Execute callback\r\n                            if (config && config.onSuccess) {\r\n                                config.onSuccess(registration);\r\n                            }\r\n                        }\r\n                    }\r\n                };\r\n            };\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error during service worker registration:', error);\r\n        });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl, {\r\n        headers: { 'Service-Worker': 'script' },\r\n    })\r\n        .then((response) => {\r\n            // Ensure service worker exists, and that we really are getting a JS file.\r\n            const contentType = response.headers.get('content-type');\r\n            if (\r\n                response.status === 404 ||\r\n                (contentType != null && contentType.indexOf('javascript') === -1)\r\n            ) {\r\n                // No service worker found. Probably a different app. Reload the page.\r\n                navigator.serviceWorker.ready.then((registration) => {\r\n                    registration.unregister().then(() => {\r\n                        window.location.reload();\r\n                    });\r\n                });\r\n            } else {\r\n                // Service worker found. Proceed as normal.\r\n                registerValidSW(swUrl, config);\r\n            }\r\n        })\r\n        .catch(() => {\r\n            console.log('No internet connection found. App is running in offline mode.');\r\n        });\r\n}\r\n\r\nexport function register(config) {\r\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n        // The URL constructor is available in all browsers that support SW.\r\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n        if (publicUrl.origin !== window.location.origin) {\r\n            // Our service worker won't work if PUBLIC_URL is on a different origin\r\n            // from what our page is served on. This might happen if a CDN is used to\r\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n            return;\r\n        }\r\n\r\n        window.addEventListener('load', () => {\r\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n            if (isLocalhost) {\r\n                // This is running on localhost. Let's check if a service worker still exists or not.\r\n                checkValidServiceWorker(swUrl, config);\r\n\r\n                // Add some additional logging to localhost, pointing developers to the\r\n                // service worker/PWA documentation.\r\n                navigator.serviceWorker.ready.then(() => {\r\n                    console.log(\r\n                        'This web app is being served cache-first by a service ' +\r\n                            'worker. To learn more, visit https://cra.link/PWA'\r\n                    );\r\n                });\r\n            } else {\r\n                // Is not localhost. Just register service worker\r\n                registerValidSW(swUrl, config);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport function unregister() {\r\n    if ('serviceWorker' in navigator) {\r\n        navigator.serviceWorker.ready\r\n            .then((registration) => {\r\n                registration.unregister();\r\n            })\r\n            .catch((error) => {\r\n                console.error(error.message);\r\n            });\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { ToastProvider } from 'react-toast-notifications';\r\nimport App from './App';\r\nimport store from './Redux/store';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport * as ServiceWorkerRegistration from './serviceWorkerRegistration';\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <ToastProvider>\r\n            <App />\r\n        </ToastProvider>\r\n    </Provider>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\nServiceWorkerRegistration.register();\r\n"],"sourceRoot":""}